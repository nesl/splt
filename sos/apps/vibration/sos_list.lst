   1               		.file	"sos_list.c"
   2               		.arch atmega128
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  12               		.text
  13               	.Ltext0:
 179               	.global	list_insert_before
 181               	list_insert_before:
   1:/Users/Administrator/sos-2x/kernel/sos_list.c **** #include <sos_list.h>
   2:/Users/Administrator/sos-2x/kernel/sos_list.c **** #include <sos_sched.h>
   3:/Users/Administrator/sos-2x/kernel/sos_list.c **** 
   4:/Users/Administrator/sos-2x/kernel/sos_list.c **** void list_insert_before(list_link_t* before, list_link_t* toInsert)
   5:/Users/Administrator/sos-2x/kernel/sos_list.c **** {
 183               	.LM1:
 184               	/* prologue: frame size=0 */
 185 0000 CF93      		push r28
 186 0002 DF93      		push r29
 187               	/* prologue end (size=2) */
 188 0004 DB01      		movw r26,r22
   6:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	toInsert->l_next = before;
 190               	.LM2:
 191 0006 8D93      		st X+,r24
 192 0008 9C93      		st X,r25
   7:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	toInsert->l_prev = before->l_prev;
 194               	.LM3:
 195 000a EC01      		movw r28,r24
 196 000c 8A81      		ldd r24,Y+2
 197 000e 9B81      		ldd r25,Y+3
 198 0010 FB01      		movw r30,r22
 199 0012 8283      		std Z+2,r24
 200 0014 9383      		std Z+3,r25
   8:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	before->l_prev->l_next = toInsert;
 202               	.LM4:
 203 0016 EA81      		ldd r30,Y+2
 204 0018 FB81      		ldd r31,Y+3
 205 001a 6083      		st Z,r22
 206 001c 7183      		std Z+1,r23
   9:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	before->l_prev = toInsert;
 208               	.LM5:
 209 001e 6A83      		std Y+2,r22
 210 0020 7B83      		std Y+3,r23
 211               	/* epilogue: frame size=0 */
 212 0022 DF91      		pop r29
 213 0024 CF91      		pop r28
 214 0026 0895      		ret
 215               	/* epilogue end (size=3) */
 216               	/* function list_insert_before size 20 (15) */
 218               	.Lscope0:
 223               	.global	list_insert_head
 225               	list_insert_head:
  10:/Users/Administrator/sos-2x/kernel/sos_list.c **** }
  11:/Users/Administrator/sos-2x/kernel/sos_list.c **** 
  12:/Users/Administrator/sos-2x/kernel/sos_list.c **** void list_insert_head(list_t* list, list_link_t* element)
  13:/Users/Administrator/sos-2x/kernel/sos_list.c **** {
 227               	.LM6:
 228               	/* prologue: frame size=0 */
 229               	/* prologue end (size=0) */
 230 0028 FC01      		movw r30,r24
  14:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	list_insert_before(list->l_next, element);
 232               	.LM7:
 233 002a 8081      		ld r24,Z
 234 002c 9181      		ldd r25,Z+1
 235 002e 0E94 0000 		call list_insert_before
 236               	/* epilogue: frame size=0 */
 237 0032 0895      		ret
 238               	/* epilogue end (size=1) */
 239               	/* function list_insert_head size 6 (5) */
 241               	.Lscope1:
 246               	.global	list_insert_tail
 248               	list_insert_tail:
  15:/Users/Administrator/sos-2x/kernel/sos_list.c **** }
  16:/Users/Administrator/sos-2x/kernel/sos_list.c **** 
  17:/Users/Administrator/sos-2x/kernel/sos_list.c **** void list_insert_tail(list_t* list, list_link_t* element)
  18:/Users/Administrator/sos-2x/kernel/sos_list.c **** {
 250               	.LM8:
 251               	/* prologue: frame size=0 */
 252               	/* prologue end (size=0) */
  19:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	list_insert_before(list, element);
 254               	.LM9:
 255 0034 0E94 0000 		call list_insert_before
 256               	/* epilogue: frame size=0 */
 257 0038 0895      		ret
 258               	/* epilogue end (size=1) */
 259               	/* function list_insert_tail size 3 (2) */
 261               	.Lscope2:
 265               	.global	list_remove
 267               	list_remove:
  20:/Users/Administrator/sos-2x/kernel/sos_list.c **** }
  21:/Users/Administrator/sos-2x/kernel/sos_list.c **** 
  22:/Users/Administrator/sos-2x/kernel/sos_list.c **** void list_remove(list_link_t* ll)
  23:/Users/Administrator/sos-2x/kernel/sos_list.c **** {
 269               	.LM10:
 270               	/* prologue: frame size=0 */
 271 003a CF93      		push r28
 272 003c DF93      		push r29
 273               	/* prologue end (size=2) */
 274 003e FC01      		movw r30,r24
  24:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	list_link_t *before = ll->l_prev;
 276               	.LM11:
 277 0040 4281      		ldd r20,Z+2
 278 0042 5381      		ldd r21,Z+3
  25:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	list_link_t *after = ll->l_next;
 280               	.LM12:
 281 0044 A081      		ld r26,Z
 282 0046 B181      		ldd r27,Z+1
  26:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	if (before->l_next != ll && after->l_prev != ll)
 284               	.LM13:
 285 0048 EA01      		movw r28,r20
 286 004a 2881      		ld r18,Y
 287 004c 3981      		ldd r19,Y+1
 288 004e 2817      		cp r18,r24
 289 0050 3907      		cpc r19,r25
 290 0052 31F0      		breq .L5
 292               	.LM14:
 293 0054 ED01      		movw r28,r26
 294 0056 8A81      		ldd r24,Y+2
 295 0058 9B81      		ldd r25,Y+3
 296 005a 8E17      		cp r24,r30
 297 005c 9F07      		cpc r25,r31
 298 005e 79F4      		brne .L9
 299               	.L5:
  27:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	{
  28:/Users/Administrator/sos-2x/kernel/sos_list.c **** 		ll->l_next = 0;
  29:/Users/Administrator/sos-2x/kernel/sos_list.c **** 		ll->l_prev = 0;
  30:/Users/Administrator/sos-2x/kernel/sos_list.c **** 		return;
  31:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	} else if (before->l_next != ll || after->l_prev != ll)
 301               	.LM15:
 302 0060 2E17      		cp r18,r30
 303 0062 3F07      		cpc r19,r31
 304 0064 81F4      		brne .L4
 305 0066 ED01      		movw r28,r26
 306 0068 8A81      		ldd r24,Y+2
 307 006a 9B81      		ldd r25,Y+3
 308 006c 8E17      		cp r24,r30
 309 006e 9F07      		cpc r25,r31
 310 0070 51F4      		brne .L4
  32:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	{
  33:/Users/Administrator/sos-2x/kernel/sos_list.c **** 		DEBUG("ERROR: corrupted queue\n");
  34:/Users/Administrator/sos-2x/kernel/sos_list.c **** 		return;
  35:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	}
  36:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	before->l_next = after;
 312               	.LM16:
 313 0072 EA01      		movw r28,r20
 314 0074 A883      		st Y,r26
 315 0076 B983      		std Y+1,r27
  37:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	after->l_prev = before;
 317               	.LM17:
 318 0078 ED01      		movw r28,r26
 319 007a 4A83      		std Y+2,r20
 320 007c 5B83      		std Y+3,r21
 321               	.L9:
  38:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	ll->l_next = NULL;
 323               	.LM18:
 324 007e 1082      		st Z,__zero_reg__
 325 0080 1182      		std Z+1,__zero_reg__
  39:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	ll->l_prev = NULL;
 327               	.LM19:
 328 0082 1282      		std Z+2,__zero_reg__
 329 0084 1382      		std Z+3,__zero_reg__
 330               	.L4:
 331               	/* epilogue: frame size=0 */
 332 0086 DF91      		pop r29
 333 0088 CF91      		pop r28
 334 008a 0895      		ret
 335               	/* epilogue end (size=3) */
 336               	/* function list_remove size 41 (36) */
 342               	.Lscope3:
 346               	.global	list_remove_head
 348               	list_remove_head:
  40:/Users/Administrator/sos-2x/kernel/sos_list.c **** }
  41:/Users/Administrator/sos-2x/kernel/sos_list.c **** 
  42:/Users/Administrator/sos-2x/kernel/sos_list.c **** 
  43:/Users/Administrator/sos-2x/kernel/sos_list.c **** 
  44:/Users/Administrator/sos-2x/kernel/sos_list.c **** void list_remove_head(list_t* list)
  45:/Users/Administrator/sos-2x/kernel/sos_list.c **** {
 350               	.LM20:
 351               	/* prologue: frame size=0 */
 352               	/* prologue end (size=0) */
 353 008c FC01      		movw r30,r24
  46:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	list_remove((list)->l_next);
 355               	.LM21:
 356 008e 8081      		ld r24,Z
 357 0090 9181      		ldd r25,Z+1
 358 0092 0E94 0000 		call list_remove
 359               	/* epilogue: frame size=0 */
 360 0096 0895      		ret
 361               	/* epilogue end (size=1) */
 362               	/* function list_remove_head size 6 (5) */
 364               	.Lscope4:
 368               	.global	list_remove_tail
 370               	list_remove_tail:
  47:/Users/Administrator/sos-2x/kernel/sos_list.c **** }
  48:/Users/Administrator/sos-2x/kernel/sos_list.c **** 
  49:/Users/Administrator/sos-2x/kernel/sos_list.c **** 
  50:/Users/Administrator/sos-2x/kernel/sos_list.c **** 
  51:/Users/Administrator/sos-2x/kernel/sos_list.c **** void list_remove_tail(list_t* list)
  52:/Users/Administrator/sos-2x/kernel/sos_list.c **** {
 372               	.LM22:
 373               	/* prologue: frame size=0 */
 374               	/* prologue end (size=0) */
  53:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	list_remove((list)->l_prev);
 376               	.LM23:
 377 0098 FC01      		movw r30,r24
 378 009a 8281      		ldd r24,Z+2
 379 009c 9381      		ldd r25,Z+3
 380 009e 0E94 0000 		call list_remove
 381               	/* epilogue: frame size=0 */
 382 00a2 0895      		ret
 383               	/* epilogue end (size=1) */
 384               	/* function list_remove_tail size 6 (5) */
 386               	.Lscope5:
 390               	.global	list_init
 392               	list_init:
  54:/Users/Administrator/sos-2x/kernel/sos_list.c **** }
  55:/Users/Administrator/sos-2x/kernel/sos_list.c **** 
  56:/Users/Administrator/sos-2x/kernel/sos_list.c **** void list_init(list_t* list)
  57:/Users/Administrator/sos-2x/kernel/sos_list.c **** {
 394               	.LM24:
 395               	/* prologue: frame size=0 */
 396               	/* prologue end (size=0) */
 397 00a4 FC01      		movw r30,r24
  58:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	list->l_next = list->l_prev = list;
 399               	.LM25:
 400 00a6 8283      		std Z+2,r24
 401 00a8 9383      		std Z+3,r25
 402 00aa 8083      		st Z,r24
 403 00ac 9183      		std Z+1,r25
 404               	/* epilogue: frame size=0 */
 405 00ae 0895      		ret
 406               	/* epilogue end (size=1) */
 407               	/* function list_init size 6 (5) */
 409               	.Lscope6:
 413               	.global	list_empty
 415               	list_empty:
  59:/Users/Administrator/sos-2x/kernel/sos_list.c **** }
  60:/Users/Administrator/sos-2x/kernel/sos_list.c **** 
  61:/Users/Administrator/sos-2x/kernel/sos_list.c **** bool list_empty(list_t* list)
  62:/Users/Administrator/sos-2x/kernel/sos_list.c **** {
 417               	.LM26:
 418               	/* prologue: frame size=0 */
 419               	/* prologue end (size=0) */
 420 00b0 FC01      		movw r30,r24
  63:/Users/Administrator/sos-2x/kernel/sos_list.c **** 	return ((list->l_next == list)? true:false);
 422               	.LM27:
 423 00b2 20E0      		ldi r18,lo8(0)
 424 00b4 30E0      		ldi r19,hi8(0)
 425 00b6 8081      		ld r24,Z
 426 00b8 9181      		ldd r25,Z+1
 427 00ba 8E17      		cp r24,r30
 428 00bc 9F07      		cpc r25,r31
 429 00be 11F4      		brne .L14
 431               	.LM28:
 432 00c0 21E0      		ldi r18,lo8(1)
 433 00c2 30E0      		ldi r19,hi8(1)
 434               	.L14:
  64:/Users/Administrator/sos-2x/kernel/sos_list.c **** }
 436               	.LM29:
 437 00c4 C901      		movw r24,r18
 438               	/* epilogue: frame size=0 */
 439 00c6 0895      		ret
 440               	/* epilogue end (size=1) */
 441               	/* function list_empty size 12 (11) */
 443               	.Lscope7:
 445               		.text
 447               	Letext:
 448               	/* File "/Users/Administrator/sos-2x/kernel/sos_list.c": code  100 = 0x0064 (  84), prologues   4, 
DEFINED SYMBOLS
                            *ABS*:00000000 sos_list.c
                            *ABS*:0000003f __SREG__
                            *ABS*:0000003e __SP_H__
                            *ABS*:0000003d __SP_L__
                            *ABS*:00000000 __tmp_reg__
                            *ABS*:00000001 __zero_reg__
/var/tmp//ccFEuCqq.s:181    .text:00000000 list_insert_before
/var/tmp//ccFEuCqq.s:225    .text:00000028 list_insert_head
/var/tmp//ccFEuCqq.s:248    .text:00000034 list_insert_tail
/var/tmp//ccFEuCqq.s:267    .text:0000003a list_remove
/var/tmp//ccFEuCqq.s:348    .text:0000008c list_remove_head
/var/tmp//ccFEuCqq.s:370    .text:00000098 list_remove_tail
/var/tmp//ccFEuCqq.s:392    .text:000000a4 list_init
/var/tmp//ccFEuCqq.s:415    .text:000000b0 list_empty
/var/tmp//ccFEuCqq.s:447    .text:000000c8 Letext

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
